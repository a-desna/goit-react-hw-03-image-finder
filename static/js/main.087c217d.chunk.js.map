{"version":3,"sources":["components/styles/ImageFinder.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","services-api/apiService.js","components/ImageFinder/ImageFinder.jsx","components/App.jsx","index.js"],"names":["module","exports","Searchbar","state","value","handleSubmit","e","preventDefault","props","onSearch","setState","handleInputChange","target","this","className","styles","SearchForm","onSubmit","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","largeImageURL","showModal","ImageGalleryItemImage","src","alt","onClick","ImageGallery","hits","map","id","key","Loader","color","height","width","Button","onLoadMore","Modal","handleKey","code","closeModal","window","addEventListener","removeEventListener","Overlay","ModalButton","imagesService","query","page","axios","get","then","res","data","ImageFinder","isLoading","error","fetchImages","prevState","catch","finally","scroll","handleSearch","scrollTo","top","document","documentElement","scrollHeight","behavior","ImageURL","prevProps","App","message","length","ReactDOM","render","getElementById"],"mappings":"uIACAA,EAAOC,QAAU,CAAC,IAAM,yBAAyB,UAAY,+BAA+B,WAAa,gCAAgC,iBAAmB,sCAAsC,sBAAwB,2CAA2C,gBAAkB,qCAAqC,aAAe,kCAAkC,iBAAmB,sCAAsC,sBAAwB,2CAA2C,QAAU,6BAA6B,MAAQ,2BAA2B,YAAc,iCAAiC,eAAiB,oCAAoC,OAAS,8B,mKC8CjpBC,E,4MA3CbC,MAAQ,CACNC,MAAO,I,EAGTC,aAAe,SAAAC,GACbA,EAAEC,iBACF,EAAKC,MAAMC,SAAS,EAAKN,MAAMC,OAC/B,EAAKM,SAAS,CACZN,MAAO,M,EAIXO,kBAAoB,SAAAL,GAClB,EAAKI,SAAS,CACZN,MAAOE,EAAEM,OAAOR,S,uDAIV,IACAA,EAAUS,KAAKV,MAAfC,MAER,OACE,4BAAQU,UAAWC,IAAOb,WACxB,0BAAMY,UAAWC,IAAOC,WAAYC,SAAUJ,KAAKR,cACjD,4BAAQa,KAAK,SAASJ,UAAWC,IAAOI,kBACtC,0BAAML,UAAWC,IAAOK,uBAAxB,WAGF,2BACEN,UAAWC,IAAOM,gBAClBH,KAAK,OACLd,MAAOA,EACPkB,SAAUT,KAAKF,kBACfY,aAAa,MACbC,WAAS,EACTC,YAAY,mC,GApCAC,aCuBTC,E,uKAfH,IAAD,EAC4Cd,KAAKL,MAAhDoB,EADD,EACCA,aAAcC,EADf,EACeA,cAAeC,EAD9B,EAC8BA,UACrC,OACE,wBAAIhB,UAAWC,IAAOY,kBACpB,yBACEb,UAAWC,IAAOgB,sBAClBC,IAAKJ,EACLK,IAAKL,EACLM,QAAS,kBAAMJ,EAAUD,W,GAfJH,aC+BhBS,E,uKAlBH,IAAD,EACqBtB,KAAKL,MAAzB4B,EADD,EACCA,KAAMN,EADP,EACOA,UAEd,OACE,wBAAIhB,UAAWC,IAAOoB,cACnBC,EAAKC,KAAI,gBAAGC,EAAH,EAAGA,GAAIV,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,cAArB,OACR,kBAAC,EAAD,CACEU,IAAKD,EACLV,aAAcA,EACdC,cAAeA,EACfC,UAAWA,Y,GAtBIJ,a,iBCaZc,G,6KAZX,OACE,kBAAC,IAAD,CACEtB,KAAK,YACLuB,MAAM,UACNC,OAAQ,IACRC,MAAO,U,GAPMjB,cCkBNkB,E,uKAZX,OACE,4BACE9B,UAAWC,IAAO6B,OAClB1B,KAAK,SACLgB,QAASrB,KAAKL,MAAMqC,YAHtB,iB,GAPenB,aCsCNoB,E,4MAxBbC,UAAY,SAAAzC,GACK,WAAXA,EAAE0C,MAGN,EAAKxC,MAAMyC,c,kEAXXC,OAAOC,iBAAiB,UAAWtC,KAAKkC,a,6CAIxCG,OAAOE,oBAAoB,UAAWvC,KAAKkC,a,+BAUnC,IAAD,EAC+BlC,KAAKL,MAAnCqB,EADD,EACCA,cAAeoB,EADhB,EACgBA,WACvB,OACE,yBAAKnC,UAAWC,IAAOsC,SACrB,yBAAKvC,UAAWC,IAAO+B,OACrB,yBAAKd,IAAKH,EAAeI,IAAKJ,KAEhC,4BACEX,KAAK,SACLJ,UAAWC,IAAOuC,YAClBpB,QAAS,kBAAMe,Y,GA/BLvB,a,iBCFP6B,EAAgB,eAACC,EAAD,uDAAS,GAAIC,EAAb,uDAAoB,EAApB,OAC3BC,IACGC,IADH,qCAEkCH,EAFlC,iBAEgDC,EAFhD,gGAIGG,MAAK,SAAAC,GAAG,OAAIA,EAAIC,KAAK1B,SCkFX2B,E,4MA9Eb5D,MAAQ,CACNiC,KAAM,GACN4B,WAAW,EACXR,MAAO,GACPC,KAAM,EACNQ,MAAO,KACPpC,cAAe,I,EAWjBqC,YAAc,WACZ,EAAKxD,SAAS,CAAEsD,WAAW,IAE3BT,EAAc,EAAKpD,MAAMqD,MAAO,EAAKrD,MAAMsD,MACxCG,MAAK,SAAAxB,GAAI,OACR,EAAK1B,UAAS,SAAAyD,GAAS,MAAK,CAC1B/B,KAAK,GAAD,mBAAM+B,EAAU/B,MAAhB,YAAyBA,IAC7BqB,KAAMU,EAAUV,KAAO,SAG1BW,OAAM,SAAAH,GAAK,OAAI,EAAKvD,SAAS,CAAEuD,aAC/BI,SAAQ,WACP,EAAK3D,SAAS,CAAEsD,WAAW,IAC3B,EAAKM,a,EAIXC,aAAe,SAAAf,GACRA,GAGL,EAAK9C,SAAS,CAAE8C,QAAOpB,KAAM,GAAIqB,KAAM,K,EAGzCa,OAAS,WACPpB,OAAOsB,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,Y,EAId/C,UAAY,SAAAgD,GACV,EAAKpE,SAAS,CAAEmB,cAAeiD,K,EAGjC7B,WAAa,WACX,EAAKvC,SAAS,CAAEmB,cAAe,M,iEA5CdkD,EAAWZ,GACVA,EAAUX,QACV3C,KAAKV,MAAMqD,OAE3B3C,KAAKqD,gB,+BA2CC,IAAD,EAC2CrD,KAAKV,MAA/CiC,EADD,EACCA,KAAM4B,EADP,EACOA,UAAWC,EADlB,EACkBA,MAAOpC,EADzB,EACyBA,cAEhC,OACE,yBAAKf,UAAWC,IAAOiE,KACrB,kBAAC,EAAD,CAAWvE,SAAUI,KAAK0D,eACzBN,GAAS,8HAAyBA,EAAMgB,SACxC7C,EAAK8C,OAAS,GACb,kBAAC,EAAD,CAAc9C,KAAMA,EAAMN,UAAWjB,KAAKiB,YAE3CkC,GAAa,kBAAC,EAAD,MACb5B,EAAK8C,OAAS,IAAMlB,GACnB,kBAAC,EAAD,CAAQnB,WAAYhC,KAAKqD,cAE1BrC,GACC,kBAAC,EAAD,CAAOA,cAAeA,EAAeoB,WAAYpC,KAAKoC,kB,GAxEtCvB,aCCXsD,MARf,WACE,OACE,kBAAC,WAAD,KACE,kBAAC,EAAD,QCDNG,IAASC,OAAO,kBAAC,EAAD,MAASV,SAASW,eAAe,W","file":"static/js/main.087c217d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"ImageFinder_App__35yA9\",\"Searchbar\":\"ImageFinder_Searchbar__141Gd\",\"SearchForm\":\"ImageFinder_SearchForm__1Awin\",\"SearchFormButton\":\"ImageFinder_SearchFormButton__2APvZ\",\"SearchFormButtonLabel\":\"ImageFinder_SearchFormButtonLabel__Ql4Lw\",\"SearchFormInput\":\"ImageFinder_SearchFormInput__3P_7b\",\"ImageGallery\":\"ImageFinder_ImageGallery__1oweF\",\"ImageGalleryItem\":\"ImageFinder_ImageGalleryItem__2XhVI\",\"ImageGalleryItemImage\":\"ImageFinder_ImageGalleryItemImage__1hG8h\",\"Overlay\":\"ImageFinder_Overlay__3uOJ8\",\"Modal\":\"ImageFinder_Modal__2V6hH\",\"ModalButton\":\"ImageFinder_ModalButton__2S58r\",\"LightboxButton\":\"ImageFinder_LightboxButton__3gZMC\",\"Button\":\"ImageFinder_Button__TA1nU\"};","import React, { Component } from 'react';\r\nimport styles from '../styles/ImageFinder.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSearch(this.state.value);\r\n    this.setState({\r\n      value: '',\r\n    });\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    this.setState({\r\n      value: e.target.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            value={value}\r\n            onChange={this.handleInputChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from '../styles/ImageFinder.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  static propTypes = {\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    showModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  render() {\r\n    const { webformatURL, largeImageURL, showModal } = this.props;\r\n    return (\r\n      <li className={styles.ImageGalleryItem}>\r\n        <img\r\n          className={styles.ImageGalleryItemImage}\r\n          src={webformatURL}\r\n          alt={webformatURL}\r\n          onClick={() => showModal(largeImageURL)}\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport styles from '../styles/ImageFinder.module.css';\r\n\r\nclass ImageGallery extends Component {\r\n  static propTypes = {\r\n    hits: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        id: PropTypes.number,\r\n        webformatURL: PropTypes.string,\r\n        largeImageURL: PropTypes.string,\r\n      }),\r\n    ).isRequired,\r\n    showModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  render() {\r\n    const { hits, showModal } = this.props;\r\n\r\n    return (\r\n      <ul className={styles.ImageGallery}>\r\n        {hits.map(({ id, webformatURL, largeImageURL }) => (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            webformatURL={webformatURL}\r\n            largeImageURL={largeImageURL}\r\n            showModal={showModal}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport LoaderSpinner from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nclass Loader extends Component {\r\n  render() {\r\n    return (\r\n      <LoaderSpinner\r\n        type=\"ThreeDots\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        // timeout={3000}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loader;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from '../styles/ImageFinder.module.css';\r\n\r\nclass Button extends Component {\r\n  static propTypes = {\r\n    onLoadMore: PropTypes.func.isRequired,\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <button\r\n        className={styles.Button}\r\n        type=\"button\"\r\n        onClick={this.props.onLoadMore}\r\n      >\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from '../styles/ImageFinder.module.css';\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    closeModal: PropTypes.func.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKey);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKey);\r\n  }\r\n\r\n  handleKey = e => {\r\n    if (e.code !== 'Escape') {\r\n      return;\r\n    }\r\n    this.props.closeModal();\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL, closeModal } = this.props;\r\n    return (\r\n      <div className={styles.Overlay}>\r\n        <div className={styles.Modal}>\r\n          <img src={largeImageURL} alt={largeImageURL} />\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className={styles.ModalButton}\r\n          onClick={() => closeModal()}\r\n        ></button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\r\n\r\nexport const imagesService = (query = '', page = 1) =>\r\n  axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=16691292-2f3f42c714dd5f594c7c8ab9b&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(res => res.data.hits);\r\n","import React, { Component } from 'react';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nimport Loader from '../Loader/Loader';\r\nimport Button from '../Button/Button';\r\nimport Modal from '../Modal/Modal';\r\n\r\nimport { imagesService } from '../../services-api/apiService';\r\nimport styles from '../styles/ImageFinder.module.css';\r\n\r\nclass ImageFinder extends Component {\r\n  state = {\r\n    hits: [],\r\n    isLoading: false,\r\n    query: '',\r\n    page: 1,\r\n    error: null,\r\n    largeImageURL: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.query;\r\n    const nextQuery = this.state.query;\r\n    if (prevQuery !== nextQuery) {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n\r\n  fetchImages = () => {\r\n    this.setState({ isLoading: true });\r\n\r\n    imagesService(this.state.query, this.state.page)\r\n      .then(hits =>\r\n        this.setState(prevState => ({\r\n          hits: [...prevState.hits, ...hits],\r\n          page: prevState.page + 1,\r\n        })),\r\n      )\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n        this.scroll();\r\n      });\r\n  };\r\n\r\n  handleSearch = query => {\r\n    if (!query) {\r\n      return;\r\n    }\r\n    this.setState({ query, hits: [], page: 1 });\r\n  };\r\n\r\n  scroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  showModal = ImageURL => {\r\n    this.setState({ largeImageURL: ImageURL });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ largeImageURL: '' });\r\n  };\r\n\r\n  render() {\r\n    const { hits, isLoading, error, largeImageURL } = this.state;\r\n\r\n    return (\r\n      <div className={styles.App}>\r\n        <Searchbar onSearch={this.handleSearch} />\r\n        {error && <p>Что-то пошло не так: {error.message}</p>}\r\n        {hits.length > 0 && (\r\n          <ImageGallery hits={hits} showModal={this.showModal} />\r\n        )}\r\n        {isLoading && <Loader />}\r\n        {hits.length > 0 && !isLoading && (\r\n          <Button onLoadMore={this.fetchImages} />\r\n        )}\r\n        {largeImageURL && (\r\n          <Modal largeImageURL={largeImageURL} closeModal={this.closeModal} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageFinder;\r\n","import React, { Fragment } from 'react';\r\nimport ImageFinder from './ImageFinder/ImageFinder';\r\n\r\nfunction App() {\r\n  return (\r\n    <Fragment>\r\n      <ImageFinder />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}